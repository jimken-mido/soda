"use strict";(globalThis.webpackChunkPhoenix_docs=globalThis.webpackChunkPhoenix_docs||[]).push([[45159],{15680:(e,t,n)=>{n.d(t,{xA:()=>c,yg:()=>d});var a=n(96540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},u="mdxType",y={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},g=a.forwardRef(function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(n),g=r,d=u["".concat(l,".").concat(g)]||u[g]||y[g]||i;return n?a.createElement(d,o(o({ref:t},c),{},{components:n})):a.createElement(d,o({ref:t},c))});function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=g;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:r,o[1]=s;for(var p=2;p<i;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}g.displayName="MDXCreateElement"},95401:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>y,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var a=n(58168),r=(n(96540),n(15680));const i={title:"Entities, the Data Type for Data Exchange",sidebar_label:"Entities",description:"Used to store/represent data in Phoenix, entities are the intermediary format for sharing data between forensic and Land Rover Discovery applications in automated workflows."},o="Entities",s={unversionedId:"entities",id:"version-v0.17.0/entities",title:"Entities, the Data Type for Data Exchange",description:"Used to store/represent data in Phoenix, entities are the intermediary format for sharing data between forensic and Land Rover Discovery applications in automated workflows.",source:"@site/versioned_docs/version-v0.17.0/entities.md",sourceDirName:".",slug:"/entities",permalink:"/soda/docs/v0.17.0/entities",draft:!1,editUrl:"https://gitlab.com/Phoenix/Phoenix-docs/edit/main/versioned_docs/version-v0.17.0/entities.md",tags:[],version:"v0.17.0",frontMatter:{title:"Entities, the Data Type for Data Exchange",sidebar_label:"Entities",description:"Used to store/represent data in Phoenix, entities are the intermediary format for sharing data between forensic and Land Rover Discovery applications in automated workflows."},sidebar:"docs",previous:{title:"Phoenix Configuration Language",permalink:"/soda/docs/v0.17.0/sequence-configuration-language"},next:{title:"Schemas",permalink:"/soda/docs/v0.17.0/schemas"}},l={},p=[],c={toc:p},u="wrapper";function y({components:e,...t}){return(0,r.yg)(u,(0,a.A)({},c,t,{components:e,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"entities"},"Entities"),(0,r.yg)("p",null,"An entity is a collection of property-value or key-value pairs.\nEntities are used to store/represent data in Phoenix."),(0,r.yg)("p",null,"Entities are defined in SCL using round brackets:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-scl"},"(Property: 'Value')\n")),(0,r.yg)("p",null,"Entities can have any number of properties"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-scl"},"(Property: 'Value' Key: 'AnotherValue' NumberProperty: 123)\n")),(0,r.yg)("p",null,"You can quote property names to include spaces and other characters:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-scl"},"('My Property': 123)\n")),(0,r.yg)("p",null,"Entity values can have any ",(0,r.yg)("a",{parentName:"p",href:"/soda/docs/v0.17.0/sequence-configuration-language#types"},"type"),", including arrays and entities."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-scl"},"(\n  Name: 'Foo'\n  Letters: ['F','o','o']\n  Friend: (\n    Name: 'Bar'\n    Letters: ['B','a','r']\n  )\n)\n")),(0,r.yg)("h1",{id:"getting-values"},"Getting values"),(0,r.yg)("p",null,"To get a property value from an entity use the ",(0,r.yg)("inlineCode",{parentName:"p"},"EntityGetValue")," step."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-scl"},"- <entity> = (Foo: 'a' Bar: 'b')\n- EntityGetValue <entity> 'Foo'\n\n# returns: 'a'\n")),(0,r.yg)("p",null,"A shorthand for ",(0,r.yg)("inlineCode",{parentName:"p"},"EntityGetValue")," is a period / full stop:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-scl"},"- <entity> = (Foo: 'a' Bar: 'b')\n- <entity>.Foo # returns: 'a'\n\n- 5 * (Number: 5).Number # returns: 25\n")),(0,r.yg)("p",null,"To retrieve nested entities, use multiple periods:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-scl"},"- <entity> = (Foo: (Bar: 'a'))\n- <entity>.Foo.Bar # returns: 'a'\n")),(0,r.yg)("p",null,"For properties with spaces or other unusual characters use ",(0,r.yg)("inlineCode",{parentName:"p"},"EntityGetValue"),"."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-scl"},"- <entity> = ('multi word property name': 'a')\n- EntityGetValue <entity> 'multi word property name' # returns: 'a'\n")),(0,r.yg)("p",null,"It's also possible to get property values using the square bracket notation:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-scl"},"- <entity> = ('foo': 'a')\n- <entity>['foo'] # returns: 'a'\n")),(0,r.yg)("p",null,"This is a legacy feature and may be deprecated at some time in the future."),(0,r.yg)("h1",{id:"nested-properties"},"Nested properties"),(0,r.yg)("p",null,"You can use periods in property names to nest properties:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-scl"},"# The following are all equivalent\n- <entity1> = (a: (b: (c: 123)))\n- <entity2> = (a.b.c: 123)\n- <entity3> = ('a'.'b'.'c': 123)\n- <entity4> = (a.'b'.c: 123)\n")),(0,r.yg)("p",null,"You can also retrieve nested property values using the same notation:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-scl"},"- <entity> = (a: (b: (c: 123)))\n- EntityGetValue <entity> 'a.b.c' # returns: 123\n")),(0,r.yg)("h1",{id:"combining-properties"},"Combining Properties"),(0,r.yg)("p",null,"You can combine entities with the ",(0,r.yg)("inlineCode",{parentName:"p"},"+")," operator."),(0,r.yg)("p",null,"Nested entities will be combined. For all other properties, the value\nof the entity on the right will be used."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-scl",metastring:"#ignore","#ignore":!0},"- (Foo: 'a')               + (Bar: 'b')      # (Foo: 'a' Bar: 'b')\n- (Foo: 'a' Bar: 'b')      + (Bar: 'c')      # (Foo: 'a' Bar: 'c')\n- (x: (Foo: 'a'))          + (x: (Bar: 'b')) # (x:(Foo: 'a' Bar: 'b'))\n- (x: (Foo: 'a' Bar: 'b')) + (x: (Bar: 'c')) # (x:(Foo: 'a' Bar: 'c'))\n")),(0,r.yg)("h1",{id:"entity-arrays"},"Entity Arrays"),(0,r.yg)("p",null,"A primary use case of SCL is handling sequential collections (lists or streams) of entities."),(0,r.yg)("p",null,"It is easy to read and write different formats like CSV, Concordance, and JSON."),(0,r.yg)("p",null,"There are also steps for filtering, mapping, sorting, and distincting entities.\nSee ",(0,r.yg)("a",{parentName:"p",href:"/steps/Core/EntityCombine"},"steps prefixed with ",(0,r.yg)("inlineCode",{parentName:"a"},"Entity"))," for more details."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-scl"},"FileRead 'artwork_data.csv'\n| FromCSV # Convert CSV into a stream of entities\n| Filter (<>.artist == 'Blake, Robert') # Filter the stream\n# Change the artist's name to uppercase:\n| EntityMap (in <> set: 'artist' to: (StringToCase (from <> 'artist') TextCase.Upper))\n# Rename properties from 'artist' to 'Artist Name' and 'artistId' to 'Artist Id':\n| EntityMapProperties (artist: 'Artist Name' artistId: 'Artist Id')\n| Sort (<>.year) # sort by year\n| Distinct (<>.id) # remove duplicate entries using the 'id' as the key\n| ToJsonArray # convert the entity stream to JSON\n| FileWrite 'artwork_data.json'\n")),(0,r.yg)("p",null,"Some steps require a function argument which will be called on every element of the array.\nFor example the ",(0,r.yg)("inlineCode",{parentName:"p"},"Filter")," function filters an array to only elements which meet a\nparticular condition and that condition must be provided as an argument."),(0,r.yg)("p",null,"The function you provide can access the member of the array which is being evaluated\nin three ways, all of which are equivalent:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-scl"},"- <elements> = FileRead 'artwork_data.csv'| FromCSV # Convert CSV into a stream of entities\n- <elements> | Filter (<item>.artist == 'Blake, Robert') | Log # Use the variable named <item>>\n- <elements> | Filter (<myvariable> => <myvariable>.artist == 'Blake, Robert') | Log # Use a different variable name\n- <elements> | Filter (<>.artist == 'Blake, Robert') | Log # Use the automatic variable <>\n")))}y.isMDXComponent=!0}}]);